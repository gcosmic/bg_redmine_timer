<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="task-table" id="taskTable" attributes="">
  <template>
    <link rel="stylesheet" href="task-table.css">
	<table>
		<thead>
			<tr>
				<th class="col-corner"></th>
				<th class="col-time">Time spent</th>
				<th class="col-project">Project</th>
				<th class="col-priority">Priority</th>
				<th class="col-status">Status</th>
				<th class="col-issue">Issue</th>
				<th class="col-comment">Comment</th>
			</tr>
		</thead>
		<tbody id="tbody">
			<template repeat="{{task, ind in tasks}}">
				<tr>
					<td colspan=2>
						<stop-watch on-highlight="{{highlight}}" indexRow="{{ind}}"></stop-watch>
					</td>
					<td>{{task.project}}</td>
					<td class="prio"><div class="{{task.priority}}">{{task.priority}}</div></td>
					<td>
						<!-- <core-dropdown-menu label="Status">
							<core-dropdown class="dropdown">
								<core-selector selected="{{task.status}}">
									<template repeat="{{s in statusOpts}}">
										<core-item label="{{s.status}}"></core-item>
									</template>
								</core-selector>
							</core-dropdown>
						</core-dropdown-menu> -->
						{{task.status}}
					</td>
					<td><a href="#">{{task.issue}}</a></td>
					<td>
						<task-comment></task-comment>
					</td>
				</tr>
			</template>
		</tbody>
	</table>
  </template>
  <script>
    (function () {
      Polymer({
        // define element prototype here
		ready: function(){
			this.tasks = [
				{project: "Ricardo", priority: "Normal", status: "New", issue: "#6600 - Create new redmine timer"},
				{project: "Something", priority: "Immediate", status: "BGQA", issue: "#6600 - Create new redmine timer"},
				{project: "Basd", priority: "Normal", status: "New", issue: "#6600 - Create new redmine timer"},
				{project: "Ricardo", priority: "High", status: "Deployed", issue: "#6600 - Create new redmine timer"},
				{project: "Ricardo", priority: "Low", status: "Verified", issue: "#6600 - Create new redmine timer"}
			];
			this.statusOpts = [
				{status: "New"},
				{ status: "BGQA"},
				{status: "In progress"},
				{status: "Missing information"},
				{status: "Deployed"}
			];
			this.assignees = [
				{name: "John", id: "123"},
				{name: "Sean", id: "222"},
				{name: "Gabe", id: "5555"},
			];
			
		},
		highlight: function(e,detail){
			var row = this.$.tbody.children[detail.msg+1];
			row.className = row.className===""? "active" : "";
		}
		
      });
    })();
	
  </script>
</polymer-element>
